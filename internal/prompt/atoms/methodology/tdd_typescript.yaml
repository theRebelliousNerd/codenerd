# TypeScript-Specific TDD Workflow
# Concrete implementation of TDD methodology for TypeScript projects

- id: "methodology/tdd/typescript_workflow"
  category: "methodology"
  subcategory: "tdd"
  priority: 95
  is_mandatory: false
  languages: ["/typescript"]
  intent_verbs: ["/test", "/fix", "/implement"]
  depends_on: ["methodology/tdd/core"]
  content: |
    ## TYPESCRIPT TDD WORKFLOW

    Translate the abstract TDD cycle into concrete TypeScript commands using Jest.

    ### 1. RED (Write Failing Test)
    Create a new test file `*.test.ts` or add a test case to an existing `describe` block.

    ```bash
    # Run specific test to confirm failure
    npm test -- -t "test name"
    # OR if using yarn
    yarn test -t "test name"
    ```

    *Goal:* `FAIL` with a clear, diagnostic error message (e.g., "Expected: 5, Received: 0").

    ### 2. GREEN (Make It Pass)
    Implement the minimal code required to satisfy the test. Avoid over-engineering.

    ```bash
    # Run the specific test again
    npm test -- -t "test name"
    ```

    *Goal:* `PASS`

    ### 3. REFACTOR (Clean Up)
    Improve code quality, naming, and structure without changing behavior.

    ```bash
    # Verify no regressions in the suite
    npm test

    # Check for linting errors
    npm run lint
    ```

    ### Critical Jest Flags
    - `-t "pattern"`: Run tests with a name that matches the regex pattern.
    - `--watch`: Watch files for changes and rerun tests related to changed files.
    - `--coverage`: Collect coverage information.
    - `--detectOpenHandles`: Detect open handles preventing Jest from exiting.
