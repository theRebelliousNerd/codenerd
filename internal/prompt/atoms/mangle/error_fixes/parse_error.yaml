# AUTOGENERATED FROM MARKDOWN: this file was converted from a .md atom doc
# Source: error_fixes/parse_error.md

- id: "language/mangle/docs/error_fixes/parse_error"
  category: "language"
  subcategory: "mangle"
  description: "Fix: Parse Error"
  priority: 30
  is_mandatory: false
  languages: ["/mangle"]
  content: |
    # Fix: Parse Error
    
    ## Common Parse Errors
    
    ### 1. Missing Period
    **Error:** `unexpected end of rule`
    
    **Before:**
    ```mangle
    rule(X) :- source(X)
    ```
    
    **After:**
    ```mangle
    rule(X) :- source(X).
    ```
    
    ### 2. Wrong Declaration Syntax
    **Error:** `invalid declaration` or `.decl`
    
    **Before (Souffl√© style):**
    ```mangle
    .decl edge(x:number, y:number)
    ```
    
    **After (Mangle style):**
    ```mangle
    Decl edge(X.Type<int>, Y.Type<int>).
    ```
    
    ### 3. Lowercase Variables
    **Error:** `unexpected lowercase` or `invalid variable`
    
    **Before:**
    ```mangle
    ancestor(x, y) :- parent(x, y).
    ```
    
    **After:**
    ```mangle
    ancestor(X, Y) :- parent(X, Y).
    ```
    
    ### 4. Wrong Negation Syntax
    **Error:** `NOT` or `!` expected
    
    **Before:**
    ```mangle
    safe(X) :- !dangerous(X).
    safe(X) :- NOT dangerous(X).
    ```
    
    **After:**
    ```mangle
    safe(X) :- source(X), not dangerous(X).
    ```
    
    ### 5. Missing `do` in Aggregation
    **Error:** `expected 'do' after` or `parse error.*group_by`
    
    **Before:**
    ```mangle
    count(N) :- source(_) |> fn:group_by(), let N = fn:Count().
    ```
    
    **After:**
    ```mangle
    count(N) :- source(_) |> do fn:group_by(), let N = fn:Count().
    ```
    
    ### 6. Wrong String/Atom Syntax
    **Error:** `type mismatch` or `cannot unify`
    
    **Before:**
    ```mangle
    status(X) :- state(X, 'active').  # Wrong: single quotes
    status(X) :- state(X, active).    # Wrong: no slash
    ```
    
    **After:**
    ```mangle
    status(X) :- state(X, /active).   # Correct: atom with slash
    ```
    
    ## Quick Reference
    
    | Element | Correct | Wrong |
    |---------|---------|-------|
    | Variable | `X`, `User` | `x`, `user` |
    | Atom | `/active` | `'active'`, `active` |
    | String | `"text"` | `'text'` |
    | Declaration | `Decl` | `.decl` |
    | Negation | `not` | `!`, `NOT` |
    | Period | `.` at end | missing |
