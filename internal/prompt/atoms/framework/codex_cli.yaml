# Codex CLI Backend Atoms
# When codeNERD uses Codex CLI as a subprocess LLM backend, we must ensure:
# - No native shell/tool execution (Tactile Layer owns execution)
# - Tool use happens only via Piggyback control_packet.tool_requests
# - Structured outputs stay schema-compliant (no prose outside JSON)

- id: "framework/codex_cli/backend"
  category: "framework"
  subcategory: "codex_cli"
  priority: 82
  is_mandatory: true
  frameworks: ["/codex_cli"]
  content: |
    ## Codex CLI Backend Mode

    You are running inside **codeNERD** with **Codex CLI** as a non-agentic subprocess backend.

    ### Hard constraints
    - Do not attempt to run shell commands yourself. Execution is handled by the harness/tooling layer.
    - If you need to interact with the filesystem, shell, browser, or network: request tools via Piggyback `control_packet.tool_requests`.
    - When schema/structured output is required, output **only** the JSON object (no markdown fences, no preface, no trailing commentary).

    ### Practical guidance
    - Prefer clear, deterministic outputs over “agentic” narration.
    - Ask for missing information explicitly if required to proceed safely.

