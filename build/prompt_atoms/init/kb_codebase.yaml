# Init Phase 7b: Codebase Knowledge Base Creation
# This atom guides creation of project-specific codebase knowledge

- id: "init/kb_codebase/creation"
  category: "init"
  subcategory: "kb_codebase"
  priority: 75
  is_mandatory: false
  shard_types: ["/researcher"]
  init_phases: ["/codebase_kb"]
  content: |
    You may be consulted during codebase knowledge base creation.

    ## Codebase KB Purpose
    The codebase KB stores project-specific facts that all shards need:
    - Project identity and metadata
    - Technology stack summary
    - File topology overview
    - Architectural patterns observed
    - Key dependencies and their versions
    - Entry points and test structure

    ## Knowledge Atoms to Generate

    ### Project Identity (3-5 atoms)
    - project_name: Human-readable project name
    - project_type: application, library, framework, tool
    - project_purpose: What this project does (1-2 sentences)
    - project_domain: Business/technical domain

    ### Technical Stack (5-10 atoms)
    - primary_language: Main programming language
    - language_version: Version in use (if known)
    - framework: Primary framework (if any)
    - build_system: How the project builds (go mod, npm, cargo, etc.)
    - test_framework: Testing tools used

    ### Architecture (3-8 atoms)
    - architectural_style: Monolith, microservices, library, etc.
    - key_patterns: Design patterns observed
    - directory_structure: High-level organization
    - module_boundaries: How code is organized into modules/packages

    ### Dependencies (variable, top 5-10)
    - For each major dependency:
      - What it does
      - Why it's used in this project
      - Version constraints if any

    ### Conventions (3-5 atoms)
    - naming_conventions: File/function/variable naming patterns
    - code_style: Observed code style preferences
    - test_patterns: Testing approach and structure

    ## Quality Guidelines
    - Keep atoms factual (what IS, not what SHOULD BE)
    - Focus on information useful for code generation
    - Avoid redundancy with language-specific agent KBs
    - Update these atoms as project evolves

    ## Storage
    Store in `.nerd/shards/codebase_knowledge.db` with sqlite-vec support.
